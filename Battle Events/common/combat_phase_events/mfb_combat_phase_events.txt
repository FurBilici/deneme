mfb_commander_duel_event = {
	type = commander

	is_valid = {
		exists = root
		NOT = { has_character_flag = mfb_duel_cooldown }
		can_start_single_combat_trigger = yes
		scope:combat_side.enemy_side = {
			OR = {
				any_side_commander = { is_alive = yes }
				any_side_knight = { is_alive = yes }
			}
		}
	}

	chance = {
		base = 100
		modifier = {
			add = 100
			has_perk = stalwart_leader_perk
			is_ai = no
		}
		modifier = {
			add = 30
			has_perk = stalwart_leader_perk
			is_ai = yes
		}
		modifier = {
			add = 30
			exists = dynasty
			dynasty = { has_dynasty_perk = warfare_legacy_3 }
		}
		modifier = {
			add = 100
			has_game_rule = easy_difficulty
			is_ai = no
		}
		modifier = {
			add = 200
			has_game_rule = very_easy_difficulty
			is_ai = no
		}
		modifier = {
			add = 200
			ai_should_get_extreme_conqueror_bonuses = yes
		}
		#modifier = { # Increase chance when outnumbering the enemy
		#	factor = {
		#		value = 1
		#		subtract = {
		#			value = scope:combat_side.enemy_side.side_strength
		#			divide = scope:combat_side.side_strength
		#			max = 1
		#		}
		#		add = 1
		#		min = 1
		#		max = 1.5
		#	}
		#	scope:combat_side.side_strength > scope:combat_side.enemy_side.side_strength
		#	NOT = { has_character_flag = mfb_duel_cooldown }
		#}
		modifier = {
			factor = 0.25
			is_ai = yes
		}
		modifier = { 
			factor = mfb_single_combat_chance_value 
		}
	}
	
	effect = {
		mfb_duel_initiate_effect = yes 
	}
}